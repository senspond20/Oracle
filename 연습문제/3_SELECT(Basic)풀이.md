## 문제풀이

```sql

SELECT * FROM TB_CLASS;
SELECT * FROM TB_CLASS_PROFESSOR;
SELECT * FROM TB_GRADE;
SELECT * FROM TB_PROFESSOR;
SELECT * FROM TB_STUDENT; -- 588명
SELECT * FROM TB_DEPARTMENT; -- 63개 학과

-- 1. 춘 기술대학교의 학과 이름과 계열을 표시하시오, 단 출력 헤더는 "학과 명", "계열"으로 표시하도록 한다.

SELECT DEPARTMENT_NAME AS "학과 이름", CATEGORY 계열
FROM TB_DEPARTMENT;

-- 2. 학과별 정원 출력

SELECT DEPARTMENT_NAME 학과 ,CAPACITY 정원
FROM TB_DEPARTMENT;

-- 3. "국어국문학과"에 다니는 여학생 중 현재 휴학중인 여학생을 찾아달라는 요청
-- 학과 테이블(TB_DEPARTMENT)로 조회

-- RESULT : 한수현

--1) 오라클 구문
SELECT STUDENT_NAME
FROM TB_DEPARTMENT D, TB_STUDENT S
WHERE D.DEPARTMENT_NO = S.DEPARTMENT_NO AND
      DEPARTMENT_NAME = '국어국문학과' AND -- 국어국문학과
      ABSENCE_YN = 'Y' AND               -- 휴학중
      SUBSTR(STUDENT_SSN,-7,1) = '2';    -- 여학생 (SUBSTR(STUDENT_SSN,8,1) = '2';
      
--2) ANSI 구문
SELECT STUDENT_NAME
FROM TB_DEPARTMENT
    JOIN TB_STUDENT USING(DEPARTMENT_NO) -- 컬럼명이 같기 떄문에 USING 사용
WHERE DEPARTMENT_NAME = '국어국문학과' AND -- 국어국문학과
      ABSENCE_YN = 'Y' AND               -- 휴학중
      SUBSTR(STUDENT_SSN,-7,1) = '2';    -- 여학생 (SUBSTR(STUDENT_SSN,8,1) = '2';

-- 4. 도서관에서 대출 도서 장기 연체자 들을 찾아 이름을 게시하고자 한다. 
-- 그 대상자들의 학번이 A513079, A513090, A513091, A5130110, A513119 와 같을떄
-- 대상자들을 찾는 적절한 SQL 구문 작성
--STUDENT_NAME

--RESULT 
--홍경희
--최경희
--정경훈
--정경환
--이경환

SELECT STUDENT_NAME
FROM TB_STUDENT
WHERE STUDENT_NO IN ('A513079', 'A513090', 'A513091', 'A513110', 'A513119')
ORDER BY STUDENT_NAME DESC;

-- 5. 입학 정원이 20명 이상 30명 이하인 학과들의 학과 이름과 계열을 출력하시오
SELECT * FROM TB_DEPARTMENT;

SELECT DEPARTMENT_NAME , CATEGORY 
FROM TB_DEPARTMENT  
--WHERE CAPACITY >=20 AND D.CAPACITY <= 30;
WHERE CAPACITY BETWEEN 20 AND 30;

-- 6. 춘 기술대학교는 총장을 제외하고 모든 교수들이 소속 학과를 가지고 있다.
-- 그럼 춘 기술대학교 총장의 이름을 알아낼 수 있는 SQL 문 작성

SELECT PROFESSOR_NAME
FROM TB_PROFESSOR
WHERE DEPARTMENT_NO IS NULL;

-- 7. 혹시 전상상의 착오로 학과가 지정되어 있지 않은 학생이 있는지 확인하고자한다.
-- 어떠한 SQL 문장을 사용하면 될것인지 작성

-- ?? 
SELECT * 
FROM TB_STUDENT S,TB_DEPARTMENT D
WHERE S.DEPARTMENT_NO = D.DEPARTMENT_NO
ORDER BY D.DEPARTMENT_NO NULLS FIRST;

SELECT DEPARTMENT_NO, STUDENT_NAME, DEPARTMENT_NAME
FROM TB_STUDENT
    LEFT JOIN TB_DEPARTMENT USING(DEPARTMENT_NO)
    ORDER BY DEPARTMENT_NAME NULLS FIRST;
    
-- 8. 수강신청을 하려고한다. 선수 과목 여부를 확인해야하는데,
-- 선수과목이 존재하는 과목들은 어떤 과목인지 과목번호를 조회

--1)
SELECT CLASS_NO
FROM TB_CLASS
WHERE PREATTENDING_CLASS_NO IS NOT NULL;

--2)
SELECT CLASS_NO, CLASS_NAME, PREATTENDING_CLASS_NO AS "선수강 코드"
FROM TB_CLASS
WHERE PREATTENDING_CLASS_NO IS NOT NULL;

--3)
-- 오라클 구문
-- 셀프조인 이용해서 선수강과목출력
SELECT O.CLASS_NO, O.CLASS_NAME, O.PREATTENDING_CLASS_NO AS "선수강 코드", P.CLASS_NAME AS "선수강 과목"
FROM TB_CLASS O, TB_CLASS P
WHERE P.CLASS_NO = O.PREATTENDING_CLASS_NO AND
      O.PREATTENDING_CLASS_NO IS NOT NULL;
      
-- ANSI 구문
SELECT O.CLASS_NO, O.CLASS_NAME, O.PREATTENDING_CLASS_NO AS "선수강 코드", P.CLASS_NAME AS "선수강 과목"
FROM TB_CLASS O
    JOIN TB_CLASS P ON(P.CLASS_NO = O.PREATTENDING_CLASS_NO)
WHERE O.PREATTENDING_CLASS_NO IS NOT NULL;

-- 9. 춘 대학에는 어떤 계열(CATEGORY)들이 있는지 조회
SELECT DISTINCT CATEGORY
FROM TB_DEPARTMENT;

```